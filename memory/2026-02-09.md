# 2026-02-09 Memory Log

## System Hardening & Security Audit
- Conducted full system security audit on Ubuntu 25.10 (aarch64)
- Firewall (ufw) was **inactive** initially - major security gap identified
- Configured firewall rules:
  - Default deny incoming, allow outgoing
  - Allowed mDNS (5353/udp) and CUPS (631/tcp)
  - Removed Ollama port exposure (11434/tcp) per security recommendation
- Scheduled cron jobs for periodic security checks:
  - Daily security audit at 09:00 AM
  - Weekly update check (Mondays at 09:00 AM)

## Google Places API Setup
- Enabled Google Places API (New) for project 555646789495
- CLI tool `goplaces` (v0.2.1) configured and tested successfully
- Used for pharmacy searches near CEP 58052-310 (João Pessoa)

## Bitcoin Trading Strategy Development
**Client Request:** Create automated BTC/USDT trading strategy with monitoring

### Implementation Details:
1. **Script Location:** `/home/ironman/.openclaw/workspace/btc_strategy_full.py`
2. **Timeframe:** 4-hour candles (changed from 1-hour per client request)
3. **Data Source:** Binance exchange via CCXT library
4. **Position Size:** 100 USDT (theoretical)

### Technical Indicators Used:
- RSI (14 periods)
- MACD (12, 26, 9)
- EMA 50 & 200 (trend identification)
- Bollinger Bands (20, 2)
- Stochastic Oscillator (14, 3, 3)
- ATR (14) - for volatility-based stop loss

### Scoring System:
- Range: -5 to +5
- LONG signal: Score ≥ +3
- SHORT signal: Score ≤ -3
- NEUTRAL: Score between -2 and +2

### Risk Management:
- **Dynamic Stop Loss:** 2x ATR from entry price
  - LONG: Entry - (2 × ATR)
  - SHORT: Entry + (2 × ATR)
- Automatically exits position if stop triggered

### Automation:
- **Cron Job:** `btc-strategy-hourly` (ID: 1ed7a0a8-bf11-4cab-872f-5708c00a9168)
- **Schedule:** Every 30 minutes
- **Alert Rules:**
  - Send Telegram alert if signal changes
  - Send status report every 4 hours (even if neutral)
- **Delivery:** Telegram user 195050411 (José Gonçalves)

### CSV Logging:
- **File:** `/home/ironman/.openclaw/workspace/btc_strategy_history.csv`
- **Columns:** Date, BTC Price, Signal, Action, Entry Price, Effective Entry, Exit Price, Profit (USDT), Reasons, RSI, MACD, ATR, BB_Lower, BB_Upper
- **Key Features:**
  - Logs all signal changes with full indicator values
  - Records justification (Reasons column) for every decision
  - Tracks "Effective Entry" to simulate real execution lag
  - Calculates profit/loss on exits

### Client Preferences:
- Send reports always, even when neutral
- Use 4-hour timeframe for analysis
- Include mandatory indicator values and justifications
- Implement stop-loss mechanism to limit downside risk

## Python Dependencies Installed:
- ccxt (v4.5.37) - cryptocurrency exchange library
- pandas (v3.0.0) - data analysis
- Note: pandas_ta failed on Python 3.14.3 (incompatible), implemented manual indicator calculations instead

## Current BTC Status (Last Check ~21:53):
- Price: ~$69,885
- Signal: NEUTRAL
- Trend: BEARISH (EMA50 < EMA200)
- No active position
